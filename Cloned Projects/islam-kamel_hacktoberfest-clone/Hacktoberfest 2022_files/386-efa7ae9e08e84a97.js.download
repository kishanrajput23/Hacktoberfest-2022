"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[386],{8251:function(a,b,c){var d=c(7294),e=c(2125),f=c(5893),g=e.ZP.div.withConfig({displayName:"loader__StyledLoaderWrapper",componentId:"sc-1q8u0ce-0"})(["display:flex;justify-content:flex-start;align-items:center;gap:24px;height:40px;"]),h=e.ZP.p.withConfig({displayName:"loader__StyledLoader",componentId:"sc-1q8u0ce-1"})(["font-family:'JetBrains Mono',monospace;font-variant-ligatures:none;margin:0;",""],function(a){return a.animated&&(0,e.iv)(["margin:0;@media (prefers-reduced-motion){display:none;}"])}),i=function(a){var b=a.message,c=(0,d.useMemo)(function(){return["[    ]","[=   ]","[==  ]","[=== ]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"].map(function(a){return a.replace(/ /g,"\xa0")})},[]),e=(0,d.useState)(0),i=e[0],j=e[1];return(0,d.useEffect)(function(){var a=setInterval(function(){j(function(a){return(a+1)%c.length})},100);return function(){return clearInterval(a)}},[c]),(0,f.jsxs)(g,{children:[(0,f.jsx)(h,{children:b}),(0,f.jsx)(h,{animated:!0,children:c[i]})]})};b.Z=i},9684:function(a,b,c){var d=c(29),e=c(9499),f=c(7794),g=c.n(f),h=c(1163),i=c(7294),j=c(4678),k=c(2699);function l(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?l(Object(c),!0).forEach(function(b){(0,e.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):l(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var n=function(){var a=!(arguments.length>0)|| void 0===arguments[0]||arguments[0],b=(0,i.useMemo)(function(){return new Date>=new Date(k.bI)&&new Date<new Date(k.Ln)},[]),c=(0,i.useState)(null),e=c[0],f=c[1],l=(0,i.useState)(null),n=l[0],o=l[1],p=(0,i.useState)(null),q=p[0],r=p[1],s=(0,i.useState)("loading"),t=s[0],u=s[1],v=(0,h.useRouter)(),w=(0,i.useMemo)(function(){return"loading"===t||a&&v.pathname!=="/".concat(t)},[t,a,v.pathname]);(0,i.useEffect)(function(){"loading"!==t&&v.pathname!=="/".concat(t)&&(console.log("useAuth: switching to ".concat(t)),a&&v.push("/".concat(t)).then())},[t,v.pathname,a,v.push]);var x=(0,i.useState)({token:!1,user:!1,registration:!1}),y=x[0],z=x[1];(0,i.useEffect)(function(){if(y.token&&y.user&&y.registration&&"loading"===t){if(!b){u("");return}if(!e||!n){u("auth");return}if(!q){u(new Date>=new Date(k.Sr)?"":"register");return}u("profile")}},[y,t,e,n,q]);var A=(0,i.useCallback)(function(){var a=new URL(window.location.origin+v.asPath);if(a.searchParams.has("token")){var b=a.searchParams.get("token");return a.searchParams.delete("token"),a.searchParams.delete("expiration"),v.replace(a.toString()).then(),b}var c=localStorage.getItem("token");return c||null},[null==v?void 0:v.asPath,null==v?void 0:v.replace]),B=(0,i.useCallback)(function(){u("loading"),f(null)},[]);(0,i.useEffect)(function(){b?f(A()):f(null),z(function(a){return m(m({},a),{},{token:!0})}),console.log("useAuth: token loaded")},[A]),(0,i.useEffect)(function(){e&&localStorage.setItem("token",e),!e&&y.token&&localStorage.removeItem("token")},[e,y.token]);var C=(0,i.useCallback)((0,d.Z)(g().mark(function a(){var b,c=arguments;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(b=c.length>0&& void 0!==c[0]&&c[0])||(u("loading"),z(function(a){return m(m({},a),{},{user:!1})})),console.log("useAuth: user loading",e),a.t0=o,a.next=6,(0,j.BT)("@me",e).catch(function(a){if(401===a.status){B();return}throw a});case 6:a.t1=a.sent,(0,a.t0)(a.t1),z(function(a){return m(m({},a),{},{user:!0})});case 9:case"end":return a.stop()}},a)})),[e,B]);(0,i.useEffect)(function(){(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(y.token){a.next=2;break}return a.abrupt("return");case 2:if(!e){a.next=7;break}return a.next=5,C();case 5:a.next=9;break;case 7:o(null),z(function(a){return m(m({},a),{},{user:!0})});case 9:console.log("useAuth: user loaded");case 10:case"end":return a.stop()}},a)}))()},[y.token,C]);var D=(0,i.useCallback)((0,d.Z)(g().mark(function a(){var b,c=arguments;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(b=c.length>0&& void 0!==c[0]&&c[0])||(u("loading"),z(function(a){return m(m({},a),{},{registration:!1})})),console.log("useAuth: registration loading",n.id,e),a.t0=r,a.next=6,(0,j.qJ)(n.id,e).catch(function(a){if(401===a.status)return B(),null;if(404===a.status)return null;throw a});case 6:a.t1=a.sent,(0,a.t0)(a.t1),z(function(a){return m(m({},a),{},{registration:!0})});case 9:case"end":return a.stop()}},a)})),[e,null==n?void 0:n.id,B]);return(0,i.useEffect)(function(){(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(y.user){a.next=2;break}return a.abrupt("return");case 2:if(!(e&&n)){a.next=7;break}return a.next=5,D();case 5:a.next=9;break;case 7:r(null),z(function(a){return m(m({},a),{},{registration:!0})});case 9:console.log("useAuth: registration loaded");case 10:case"end":return a.stop()}},a)}))()},[y.user,D]),{loading:w,active:b,state:t,token:e,reset:B,user:n,getUser:C,registration:q,getRegistration:D}};b.Z=n},4678:function(a,b,c){c.d(b,{BT:function(){return F},M8:function(){return R},Mq:function(){return L},Nq:function(){return G},Pf:function(){return S},SK:function(){return O},"_Y":function(){return N},aY:function(){return K},co:function(){return I},ec:function(){return P},"m$":function(){return H},qJ:function(){return M},rG:function(){return T},t_:function(){return E},uI:function(){return Q},w9:function(){return J}});var d=c(9499),e=c(29),f=c(7794),g=c.n(f),h=c(4098),i=c.n(h);function j(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function k(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?j(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):j(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var l="https://hacktoberfest.com".replace(/\/*$/,"");if(!l)throw Error("BASE_URL must be set for API calls");var m="https://hackathon-tracker.digitalocean.com".replace(/\/*$/,"");if(!m)throw Error("API_BASE_URL must be set for API calls");var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=(n=(0,e.Z)(g().mark(function a(b,c){var d,e,f,h,j,l=arguments;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=l.length>2&& void 0!==l[2]?l[2]:{},e=!(l.length>3)|| void 0===l[3]||l[3],f=!(l.length>4)|| void 0===l[4]||l[4],a.next=5,i()("".concat(m).concat(b),k(k({},d),c?{headers:k(k({},d.headers||{}),{},{Authorization:"Bearer ".concat(c)})}:{}));case 5:if(h=a.sent,!(e&&!h.ok)){a.next=11;break}throw(j=Error("API error: ".concat(d.method||"GET"," ").concat(b,": ").concat(h.status," ").concat(h.statusText))).status=h.status,j.response=h,j;case 11:return a.abrupt("return",f?h.json():h);case 12:case"end":return a.stop()}},a)})),function(a,b){return n.apply(this,arguments)}),E=function(a){return"".concat(m,"/users/oauth/").concat(encodeURIComponent(a),"?success_redirect=").concat(encodeURIComponent("".concat(l,"/auth")),"&error_redirect=").concat(encodeURIComponent("".concat(l,"/auth")))},F=(o=(0,e.Z)(g().mark(function a(b,c){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/users/".concat(encodeURIComponent(b)),c));case 1:case"end":return a.stop()}},a)})),function(a,b){return o.apply(this,arguments)}),G=(p=(0,e.Z)(g().mark(function a(b,c,d){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/users/".concat(encodeURIComponent(b)),c,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}));case 1:case"end":return a.stop()}},a)})),function(a,b,c){return p.apply(this,arguments)}),H=(q=(0,e.Z)(g().mark(function a(b,c){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/users/".concat(encodeURIComponent(b),"/emails"),c));case 1:case"end":return a.stop()}},a)})),function(a,b){return q.apply(this,arguments)}),I=(r=(0,e.Z)(g().mark(function a(b,c){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/users/".concat(encodeURIComponent(b),"/avatars"),c));case 1:case"end":return a.stop()}},a)})),function(a,b){return r.apply(this,arguments)}),J=(s=(0,e.Z)(g().mark(function a(b,c){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/users/".concat(encodeURIComponent(b),"/oauth"),c));case 1:case"end":return a.stop()}},a)})),function(a,b){return s.apply(this,arguments)}),K=(t=(0,e.Z)(g().mark(function a(b,c,d){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/users/".concat(encodeURIComponent(b),"/oauth/").concat(encodeURIComponent(d),"?success_redirect=").concat(encodeURIComponent("".concat(l,"/auth")),"&error_redirect=").concat(encodeURIComponent("".concat(l,"/auth"))),c));case 1:case"end":return a.stop()}},a)})),function(a,b,c){return t.apply(this,arguments)}),L=(u=(0,e.Z)(g().mark(function a(b,c,d){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/users/".concat(encodeURIComponent(b),"/oauth/").concat(encodeURIComponent(d)),c,{method:"DELETE"},!0,!1));case 1:case"end":return a.stop()}},a)})),function(a,b,c){return u.apply(this,arguments)}),M=(v=(0,e.Z)(g().mark(function a(b,c){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/events/".concat(encodeURIComponent("4"),"/registrations/").concat(encodeURIComponent(b)),c));case 1:case"end":return a.stop()}},a)})),function(a,b){return v.apply(this,arguments)}),N=(w=(0,e.Z)(g().mark(function a(b,c,d){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/events/".concat(encodeURIComponent("4"),"/registrations/").concat(encodeURIComponent(b)),c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}));case 1:case"end":return a.stop()}},a)})),function(a,b,c){return w.apply(this,arguments)}),O=(x=(0,e.Z)(g().mark(function a(b,c,d){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/events/".concat(encodeURIComponent("4"),"/registrations/").concat(encodeURIComponent(b)),c,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}));case 1:case"end":return a.stop()}},a)})),function(a,b,c){return x.apply(this,arguments)}),P=(y=(0,e.Z)(g().mark(function a(b){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/events/".concat(encodeURIComponent("4"),"/metadata"),b));case 1:case"end":return a.stop()}},a)})),function(a){return y.apply(this,arguments)}),Q=(z=(0,e.Z)(g().mark(function a(b,c){var d,e=arguments;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=e.length>2&& void 0!==e[2]?e[2]:[],a.abrupt("return",D("/events/".concat(encodeURIComponent("4"),"/pull_requests/users/").concat(encodeURIComponent(b),"?excludeState=").concat(encodeURIComponent(d.join(","))),c));case 2:case"end":return a.stop()}},a)})),function(a,b){return z.apply(this,arguments)}),R=(A=(0,e.Z)(g().mark(function a(b,c){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/events/".concat(encodeURIComponent("4"),"/gift_codes/users/").concat(encodeURIComponent(b)),c));case 1:case"end":return a.stop()}},a)})),function(a,b){return A.apply(this,arguments)}),S=(B=(0,e.Z)(g().mark(function a(b,c){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/pull_requests/users/".concat(encodeURIComponent(b),"/ingest"),c));case 1:case"end":return a.stop()}},a)})),function(a,b){return B.apply(this,arguments)}),T=(C=(0,e.Z)(g().mark(function a(b,c,d){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D("/events/".concat(encodeURIComponent("4"),"/excluded_repositories"),c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}));case 1:case"end":return a.stop()}},a)})),function(a,b,c){return C.apply(this,arguments)})},29:function(a,b,c){function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}c.d(b,{Z:function(){return e}})}}])